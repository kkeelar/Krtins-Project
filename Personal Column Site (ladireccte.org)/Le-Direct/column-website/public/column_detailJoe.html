<!DOCTYPE html>
<html lang="en">
<head>

    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-M30BNRBELW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-M30BNRBELW');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=DotGothic16&family=PT+Mono&family=DM+Mono:ital,wght@0,300;0,400;0,500;1,300;1,400;1,500&family=Imbue:opsz,wght@10..100,100..900&family=Instrument+Serif:ital@0;1&family=Jacquarda+Bastarda+9&family=Josefin+Sans:ital,wght@0,100..700;1,100..700&family=Overpass:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <title>Column Detail</title>
    <link rel="stylesheet" href="archive.css">
    <script src="https://www.gstatic.com/firebasejs/9.1.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.2/firebase-firestore-compat.js"></script>
</head>
<body>
    <div id="loading"></div>
    <nav class="navbar">
        <div class="navLinks-left">
            <a href="archiveVolpe.html" class="archive-button-left">Flyte's Archive</a>
        </div>
        <div class="navText">
            <a href="index.html" class="title">-|---La Direccte---|-</a>
        </div>
        <div class="navLinks-right">
            <a href="archiveKrtin.html" class="archive-button-right">Vandelay's Archive</a>
        </div>
    </nav>
    <div class="content">
        <div class="panel">
            <div class="header">
                <div class="text-info">
                    <h2 id="column-title">Column Title</h2>
                    <p class="author" id="column-author"></p>
                    <p class="date" id="column-date">Date: </p>
                </div>
                <img id="column-image" src="default.jpg" alt="Column Image">
            </div>
        
            <div class="content">
                <p id="column-content">This is the detailed content of the column.</p>
            </div>
        </div>
        
    </div>
    <script>
        var firebaseConfig = {
            apiKey: "AIzaSyBRttUjBL-BBVc1OlQOXRzImMRc66t6r1o",
            authDomain: "ledirect-d1772.firebaseapp.com",
            projectId: "ledirect-d1772",
            storageBucket: "ledirect-d1772.appspot.com",
            messagingSenderId: "109945265438",
            appId: "1:109945265438:web:7e72bbc121e0cb529f7d0f",
            measurementId: "G-M30BNRBELW"
        };
        firebase.initializeApp(firebaseConfig);
        var db = firebase.firestore();

        document.addEventListener('DOMContentLoaded', async () => {
            const urlParams = new URLSearchParams(window.location.search);
            const columnId = urlParams.get('id');
            if (columnId) {
                const doc = await db.collection('columnsJoe').doc(columnId).get();
                if (doc.exists) {
                    const column = doc.data();
                    document.getElementById('column-title').textContent = column.title;
                    const date = new Date(column.date);
                    const options = { year: 'numeric', month: 'long', day: 'numeric', timeZone: 'UTC' };
                    document.getElementById('column-date').textContent = `${date.toLocaleDateString('en-US', options)}`;
                    document.getElementById('column-author').textContent = `${column.author}`;
                    document.getElementById('column-image').src = column.imageUrl || 'default.jpg';
                    document.getElementById('column-image').alt = column.title;
                    document.getElementById('column-content').innerHTML = column.content;
                } else {
                    document.getElementById('column-content').textContent = 'Column not found.';
                }
            } else {
                document.getElementById('column-content').textContent = 'No column selected.';
            }
            document.getElementById('loading').style.display = 'none';
        });

        window.onload = function() {

        document.getElementsByTagName("html")[0].style.visibility = "visible";
        };
    </script>
    
</body>
</html>
