<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" type="image/png" href="telegraphIcon.png">

    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-M30BNRBELW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-M30BNRBELW');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Direccte</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DotGothic16&family=Imbue:opsz,wght@10..100,100..900&family=Instrument+Serif:ital@0;1&family=Jacquarda+Bastarda+9&family=Josefin+Sans:ital,wght@0,100..700;1,100..700&family=Overpass:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="main.css">
    <script src="https://www.gstatic.com/firebasejs/9.1.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.2/firebase-firestore-compat.js"></script>
</head>
<body>
    <nav class="navbar">
        <div class="navLinks-left">
            <a href="archiveVolpe.html" class="archive-button-left">Flyte's Archive</a>
        </div>
        <div class="navText">
            <a href="index.html" class="title">-|---La Direccte---|-</a>
        </div>
        <div class="navLinks-right">
            <a href="archiveKrtin.html" class="archive-button-right">Vandelay's Archive</a>
        </div>
    </nav>
    <div class="background">
    <div class="content">
        <div class="vmorse">
            <h4 id="vtext">
                -...- --- .-.. .--. .
            </h4>
        </div>
        <div class="firstText">
            <div class="teaser">
                <div id="teasertext">What Hath God Wrought?</div>
            </div>
        </div>
        <script src="animations.js"></script>
        <script>
        </script>
        <div class="kmorse">
            <h4 id="ktext">
                -.- . . .-.. .- .-.
            </h4>
        </div>
        <div class="dashes1"><img src="dashes.png" alt="a bunch of dashes for decorative purposes"></div>
        <div class="dots1">
            <img src="dots12.png" alt="horziontal decorative dots">
        </div>
        <div class="downarrow">
            <img src="pixelarrow.png" alt="arrow pointing down">
        </div>
        <div class="dots2">
            <img src="dots7.png" alt="horziontal decorative dots">
        </div>
        <div class="dashes2"><img src="dashes.png" alt="a bunch of dashes for decorative purposes"></div>
         <div class="vertical-dots">
            <p class="dots">.</p>
            <p class="dots">.</p>
            <p class="dots">.</p>
            <p class="dots">.</p>
            <p class="dots">.</p>
            <p class="dots">.</p>
            <p class="dots">.</p>
            <p class="dots">.</p>
            <p class="dots">.</p>
            <p class="dots">.</p>
            <p class="dots">.</p>
        </div>
        
       
        

        <div class="name1"><h3 class="name"><a href="login.html">Flyte</a></h3></div>
        <div class="name2"><h3 class="name">Vandelay</h3></div>

        <div class="horz-dots">
            <p class="dotsH">...................</p>
        </div>
        <div class="article1">
            <div class="article-column">
                <div class="article-card border-animation">
                    <div class="articleContents" id="card-1">
                        <h3 class="article-title">Column Title 4</h3>
                        <p class="article-excerpt">This is the first sentence of the column. It should give an idea of the content.</p>
                        <p class="article-date">July 23, 2024</p>
                    </div>
                    <div class="article-image">
                        <img id="img-1" src="image2.jpg" alt="Image 2">
                    </div>
                </div>
                <div class="article-card border-animation">
                    <div class="articleContents" id="card-2">
                        <h3 class="article-title">Column Title 5</h3>
                        <p class="article-excerpt">This is the first sentence of the column. It should give an idea of the content.</p>
                        <p class="article-date">July 22, 2024</p>
                    </div>
                    <div class="article-image">
                        <img id="img-2" src="image2.jpg" alt="Image 2">
                    </div>
                </div>
                <div class="article-card border-animation">
                    <div class="articleContents" id="card-3">
                        <h3 class="article-title">Column Title 6</h3>
                        <p class="article-excerpt">This is the first sentence of the column. It should give an idea of the content.</p>
                        <p class="article-date">July 21, 2024</p>
                    </div>
                    <div class="article-image">
                        <img id="img-3" src="image2.jpg" alt="Image 2">
                    </div>
                </div>
            </div>
           </div> 
        
        <div class="article2">
            <div class="article-column">
                <div class="article-card border-animation">
                    <div class="articleContents" id="card-4">
                        <h3 class="article-title">Column Title 4</h3>
                        <p class="article-excerpt">This is the first sentence of the column. It should give an idea of the content.</p>
                        <p class="article-date">July 23, 2024</p>
                    </div>
                    <div class="article-image">
                        <img id="img-4" src="image2.jpg" alt="Image 2">
                    </div>
                </div>
                <div class="article-card border-animation">
                    <div class="articleContents" id="card-5">
                        <h3 class="article-title">Column Title 5</h3>
                        <p class="article-excerpt">This is the first sentence of the column. It should give an idea of the content.</p>
                        <p class="article-date">July 22, 2024</p>
                    </div>
                    <div class="article-image">
                        <img id="img-5" src="image2.jpg" alt="Image 2">
                    </div>
                </div>
                <div class="article-card border-animation">
                    <div class="articleContents" id="card-6">
                        <h3 class="article-title">Column Title 6</h3>
                        <p class="article-excerpt">This is the first sentence of the column. It should give an idea of the content.</p>
                        <p class="article-date">July 21, 2024</p>
                    </div>
                    <div class="article-image">
                        <img id="img-6" src="image2.jpg" alt="Image 2">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
    <script>
        var firebaseConfig = {
            apiKey: "AIzaSyBRttUjBL-BBVc1OlQOXRzImMRc66t6r1o",
            authDomain: "ledirect-d1772.firebaseapp.com",
            projectId: "ledirect-d1772",
            storageBucket: "ledirect-d1772.appspot.com",
            messagingSenderId: "109945265438",
            appId: "1:109945265438:web:7e72bbc121e0cb529f7d0f",
            measurementId: "G-M30BNRBELW"
        };
        firebase.initializeApp(firebaseConfig);
        var db = firebase.firestore();

        async function fetchColumns() {
            const snapshot = await db.collection('columns').orderBy('date', 'desc').limit(3).get();
            return snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
        }

async function displayRecentColumns() {
    const columns = await fetchColumns();
    const cardIds = ['card-4', 'card-5', 'card-6'];
    const imgIds = ['img-4', 'img-5', 'img-6'];
    
    columns.forEach((column, index) => {
        console.log("Column Data:", column); // Log the data for debugging
        const card = document.getElementById(cardIds[index]);
        const img = document.getElementById(imgIds[index]);
        if (card && img) {
            card.querySelector('.article-title').textContent = column.title;
            card.querySelector('.article-excerpt').textContent = column.description;
            card.querySelector('.article-date').textContent = new Date(column.date).toLocaleDateString();
            img.src = column.imageUrl;
            console.log("Image URL:", column.imageUrl); // Log the image URL for debugging
            img.alt = column.title; // Optional: set alt text for accessibility
            card.onclick = () => {
                window.location.href = `column_detail.html?id=${column.id}`;
            };
        } else {
            console.warn("Element not found for index:", index);
        }
    });
}




        async function fetchColumnsJoe() {
            const snapshot = await db.collection('columnsJoe').orderBy('date', 'desc').limit(3).get();
            return snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
        }

        async function displayRecentColumnsJoe() {
            const columns = await fetchColumnsJoe();
            const cardIds = ['card-1', 'card-2', 'card-3'];
            const imgIds = ['img-1', 'img-2', 'img-3'];
            
            columns.forEach((column, index) => {
                const card = document.getElementById(cardIds[index]);
                const img = document.getElementById(imgIds[index]);
                card.querySelector('.article-title').textContent = column.title;
                card.querySelector('.article-excerpt').textContent = column.description;
                card.querySelector('.article-date').textContent = new Date(column.date).toLocaleDateString();
                img.src = column.imageUrl;
                card.onclick = () => {
                    window.location.href = `column_detailJoe.html?id=${column.id}`;
                };
            });
        }


        window.onload = function() {
            Promise.all([displayRecentColumns(), displayRecentColumnsJoe(), consoleText(['What Hath God Wrought?', 'Who Knows.'], 'teasertext')
            
]);
        document.getElementsByTagName("html")[0].style.visibility = "visible";
        };
    </script>
</body>
</html>
